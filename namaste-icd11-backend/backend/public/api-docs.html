<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAMASTE-ICD11 API Documentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#10b981',
                        secondary: '#3b82f6',
                        dark: '#1f2937',
                        light: '#f9fafb'
                    }
                }
            }
        }
    </script>
    <style>
        .endpoint {
            background-color: #f8fafc;
            border-left: 4px solid #10b981;
        }
        .method-get { background-color: #dcfce7; color: #166534; }
        .method-post { background-color: #dbeafe; color: #1e40af; }
        .method-put { background-color: #fef3c7; color: #92400e; }
        .method-delete { background-color: #fee2e2; color: #b91c1c; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <h1 class="text-xl font-bold text-primary">
                            <i class="fas fa-heartbeat mr-2"></i>NAMASTE-ICD11 EMR
                        </h1>
                    </div>
                    <div class="hidden md:block">
                        <div class="ml-10 flex items-baseline space-x-4">
                            <a href="dashboard.html" class="text-gray-600 hover:text-primary px-4 py-2 rounded-md text-sm font-medium">Dashboard</a>
                            <a href="index.html" class="text-gray-600 hover:text-primary px-4 py-2 rounded-md text-sm font-medium">Search</a>
                            <a href="#" class="bg-primary text-white px-4 py-2 rounded-md text-sm font-medium">API Docs</a>
                            <a href="#" class="text-gray-600 hover:text-primary px-4 py-2 rounded-md text-sm font-medium">Reports</a>
                        </div>
                    </div>
                </div>
                <div class="flex items-center">
                    <div class="ml-3 relative">
                        <div>
                            <button class="flex text-sm rounded-full focus:outline-none">
                                <span class="inline-block h-8 w-8 rounded-full bg-primary text-white flex items-center justify-center">
                                    <i class="fas fa-user-md"></i>
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="text-center mb-8">
            <h1 class="text-3xl font-bold text-gray-900 mb-2">API Documentation</h1>
            <p class="text-gray-600">RESTful API endpoints for NAMASTE-ICD11 terminology service</p>
        </div>

        <div class="bg-white rounded-lg shadow-md border border-gray-200 p-6 mb-8">
            <h2 class="text-xl font-semibold text-gray-900 mb-4">Overview</h2>
            <p class="text-gray-700 mb-4">
                The NAMASTE-ICD11 EMR API provides terminology services for mapping AYUSH (NAMASTE) codes to ICD-11 codes. 
                All endpoints follow FHIR R4 standards and return JSON responses.
            </p>
            <div class="bg-blue-50 p-4 rounded-lg">
                <p class="text-blue-800"><i class="fas fa-info-circle mr-2"></i> Base URL: <code class="bg-gray-100 px-2 py-1 rounded">http://localhost:3000</code></p>
            </div>
        </div>

        <!-- Terminology Endpoints -->
        <div class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4 flex items-center">
                <i class="fas fa-book-medical mr-2 text-primary"></i> Terminology Endpoints
            </h2>
            
            <div class="endpoint p-4 rounded-lg mb-4">
                <div class="flex items-center mb-2">
                    <span class="method-get px-3 py-1 rounded font-mono text-sm font-medium mr-3">GET</span>
                    <h3 class="text-lg font-medium text-gray-900">/ValueSet/$expand</h3>
                </div>
                <p class="text-gray-700 mb-2">Expand a ValueSet to retrieve all codes and their displays</p>
                <div class="bg-gray-800 text-gray-100 p-3 rounded font-mono text-sm mb-2">
                    GET /ValueSet/$expand?filter={search_term}
                </div>
                <h4 class="font-medium text-gray-900 mb-1">Parameters:</h4>
                <ul class="list-disc pl-5 text-gray-700 space-y-1 mb-2">
                    <li><code class="bg-gray-100 px-1 rounded">filter</code> (optional) - Search term to filter codes</li>
                </ul>
                <h4 class="font-medium text-gray-900 mb-1">Response:</h4>
                <pre class="bg-gray-100 p-3 rounded text-sm overflow-x-auto"><code>{
  "resourceType": "ValueSet",
  "status": "active",
  "expansion": {
    "timestamp": "2023-01-01T00:00:00Z",
    "total": 1,
    "contains": [
      {
        "system": "http://namaste.gov.in/CodeSystem/namaste",
        "code": "N0001",
        "display": "Amalaki"
      }
    ]
  }
}</code></pre>
            </div>
        </div>

        <!-- ConceptMap Endpoints -->
        <div class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4 flex items-center">
                <i class="fas fa-project-diagram mr-2 text-primary"></i> ConceptMap Endpoints
            </h2>
            
            <div class="endpoint p-4 rounded-lg mb-4">
                <div class="flex items-center mb-2">
                    <span class="method-post px-3 py-1 rounded font-mono text-sm font-medium mr-3">POST</span>
                    <h3 class="text-lg font-medium text-gray-900">/ConceptMap/$translate</h3>
                </div>
                <p class="text-gray-700 mb-2">Translate a code from one system to another</p>
                <div class="bg-gray-800 text-gray-100 p-3 rounded font-mono text-sm mb-2">
                    POST /ConceptMap/$translate
                </div>
                <h4 class="font-medium text-gray-900 mb-1">Request Body:</h4>
                <pre class="bg-gray-100 p-3 rounded text-sm overflow-x-auto mb-2"><code>{
  "code": "N0001",
  "system": "http://namaste.gov.in/CodeSystem/namaste",
  "targetSystem": "https://icd.who.int/CodeSystem/icd11"
}</code></pre>
                <h4 class="font-medium text-gray-900 mb-1">Response:</h4>
                <pre class="bg-gray-100 p-3 rounded text-sm overflow-x-auto"><code>{
  "resourceType": "Parameters",
  "parameter": [
    {
      "name": "match",
      "part": [
        {
          "name": "code",
          "valueCode": "ICD11_CODE"
        },
        {
          "name": "display",
          "valueString": "ICD-11 Display"
        },
        {
          "name": "equivalence",
          "valueCode": "equivalent"
        }
      ]
    }
  ]
}</code></pre>
            </div>
        </div>

        <!-- Bundle Endpoints -->
        <div class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4 flex items-center">
                <i class="fas fa-file-medical mr-2 text-primary"></i> Bundle Endpoints
            </h2>
            
            <div class="endpoint p-4 rounded-lg mb-4">
                <div class="flex items-center mb-2">
                    <span class="method-post px-3 py-1 rounded font-mono text-sm font-medium mr-3">POST</span>
                    <h3 class="text-lg font-medium text-gray-900">/Bundle</h3>
                </div>
                <p class="text-gray-700 mb-2">Submit a FHIR Bundle containing Patient, Encounter, and Condition resources</p>
                <div class="bg-gray-800 text-gray-100 p-3 rounded font-mono text-sm mb-2">
                    POST /Bundle
                </div>
                <h4 class="font-medium text-gray-900 mb-1">Request Body:</h4>
                <pre class="bg-gray-100 p-3 rounded text-sm overflow-x-auto mb-2"><code>{
  "resourceType": "Bundle",
  "type": "transaction",
  "entry": [
    {
      "fullUrl": "urn:uuid:1",
      "resource": {
        "resourceType": "Patient",
        "name": [{"text": "Test Patient"}],
        "gender": "unknown"
      },
      "request": {
        "method": "POST",
        "url": "Patient"
      }
    },
    {
      "fullUrl": "urn:uuid:2",
      "resource": {
        "resourceType": "Encounter",
        "status": "finished",
        "subject": {"reference": "Patient/1"}
      },
      "request": {
        "method": "POST",
        "url": "Encounter"
      }
    },
    {
      "fullUrl": "urn:uuid:3",
      "resource": {
        "resourceType": "Condition",
        "code": {
          "coding": [
            {
              "system": "http://namaste.gov.in/CodeSystem/namaste",
              "code": "N0001",
              "display": "Amalaki"
            }
          ]
        },
        "subject": {"reference": "Patient/1"},
        "encounter": {"reference": "Encounter/2"},
        "verificationStatus": {
          "coding": [{
            "system": "http://terminology.hl7.org/CodeSystem/condition-ver-status",
            "code": "confirmed",
            "display": "Confirmed"
          }]
        }
      },
      "request": {
        "method": "POST",
        "url": "Condition"
      }
    }
  ]
}</code></pre>
                <h4 class="font-medium text-gray-900 mb-1">Response:</h4>
                <pre class="bg-gray-100 p-3 rounded text-sm overflow-x-auto"><code>{
  "resourceType": "OperationOutcome",
  "issue": [
    {
      "severity": "information",
      "code": "informational",
      "diagnostics": "Terminology validated successfully"
    }
  ]
}</code></pre>
            </div>
        </div>

        <!-- FHIR Endpoints -->
        <div class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4 flex items-center">
                <i class="fas fa-heartbeat mr-2 text-primary"></i> FHIR Endpoints
            </h2>
            
            <div class="endpoint p-4 rounded-lg mb-4">
                <div class="flex items-center mb-2">
                    <span class="method-get px-3 py-1 rounded font-mono text-sm font-medium mr-3">GET</span>
                    <h3 class="text-lg font-medium text-gray-900">/fhir/metadata</h3>
                </div>
                <p class="text-gray-700 mb-2">Get FHIR CapabilityStatement for this server</p>
                <div class="bg-gray-800 text-gray-100 p-3 rounded font-mono text-sm mb-2">
                    GET /fhir/metadata
                </div>
                <h4 class="font-medium text-gray-900 mb-1">Response:</h4>
                <p class="text-gray-700">Returns FHIR CapabilityStatement in JSON format describing supported resources and operations.</p>
            </div>
        </div>

        <!-- Health Check Endpoints -->
        <div class="mb-8">
            <h2 class="text-2xl font-semibold text-gray-900 mb-4 flex items-center">
                <i class="fas fa-heart mr-2 text-primary"></i> Health Check Endpoints
            </h2>
            
            <div class="endpoint p-4 rounded-lg mb-4">
                <div class="flex items-center mb-2">
                    <span class="method-get px-3 py-1 rounded font-mono text-sm font-medium mr-3">GET</span>
                    <h3 class="text-lg font-medium text-gray-900">/health</h3>
                </div>
                <p class="text-gray-700 mb-2">Health check endpoint to verify server status</p>
                <div class="bg-gray-800 text-gray-100 p-3 rounded font-mono text-sm mb-2">
                    GET /health
                </div>
                <h4 class="font-medium text-gray-900 mb-1">Response:</h4>
                <pre class="bg-gray-100 p-3 rounded text-sm overflow-x-auto"><code>{
  "status": "OK",
  "timestamp": "2023-01-01T00:00:00Z"
}</code></pre>
            </div>
            
            <div class="endpoint p-4 rounded-lg">
                <div class="flex items-center mb-2">
                    <span class="method-get px-3 py-1 rounded font-mono text-sm font-medium mr-3">GET</span>
                    <h3 class="text-lg font-medium text-gray-900">/</h3>
                </div>
                <p class="text-gray-700 mb-2">Root endpoint returning simple message</p>
                <div class="bg-gray-800 text-gray-100 p-3 rounded font-mono text-sm mb-2">
                    GET /
                </div>
                <h4 class="font-medium text-gray-900 mb-1">Response:</h4>
                <pre class="bg-gray-100 p-3 rounded text-sm overflow-x-auto"><code>"Hello World!"</code></pre>
            </div>
        </div>

        <!-- Data Formats -->
        <div class="bg-white rounded-lg shadow-md border border-gray-200 p-6">
            <h2 class="text-xl font-semibold text-gray-900 mb-4">Data Formats</h2>
            <h3 class="text-lg font-medium text-gray-900 mb-2">NAMASTE Code Format</h3>
            <ul class="list-disc pl-5 text-gray-700 space-y-1 mb-4">
                <li>Format: <code class="bg-gray-100 px-1 rounded">N</code> followed by 3-digit number (e.g., N0001, N0002)</li>
                <li>System: <code class="bg-gray-100 px-1 rounded">http://namaste.gov.in/CodeSystem/namaste</code></li>
                <li>Categories: Dravya, Formulation, Therapy, Procedure</li>
            </ul>
            
            <h3 class="text-lg font-medium text-gray-900 mb-2">ICD-11 Code Format</h3>
            <ul class="list-disc pl-5 text-gray-700 space-y-1">
                <li>System: <code class="bg-gray-100 px-1 rounded">https://icd.who.int/CodeSystem/icd11</code></li>
                <li>Examples: RA00.0, RA00.1, etc.</li>
            </ul>
        </div>
    </main>
</body>
</html>